<<<<<<< HEAD
async function e(t){try{return await figma.clientStorage.getAsync(t)}catch(c){console.log("unable to get from storage",c);return}}async function l(t,c){try{await figma.clientStorage.setAsync(t,c)}catch(a){console.log("unable to save to storage",a)}}async function u(t){try{await figma.clientStorage.deleteAsync(t)}catch(c){console.log("unable to remove from storage",c)}}async function f(){try{const t=await figma.clientStorage.keysAsync();for(let c of t){const a=await figma.clientStorage.getAsync(c);return`${c}: ${a}`}}catch(t){console.log("unable to get keys",t)}}var y={getValue:e,setValue:l,deleteValue:u,getEntries:f};async function n(){const t=[{deviceType:"mobile",deviceName:"Pixel 8 Pro",width:448,height:998,zoom:100},{deviceType:"mobile",deviceName:"Pixel 7A",width:412,height:915,zoom:100},{deviceType:"mobile",deviceName:"iPhone 15 Pro Max",width:430,height:932,zoom:100},{deviceType:"mobile",deviceName:"iPhone SE",width:320,height:568,zoom:100},{deviceType:"laptop",deviceName:"MacBook Air 13-inch M3",width:1440,height:900,zoom:100}];async function c(o){await y.setValue("dimensions",JSON.stringify(o))}async function a(){const o=await y.getValue("dimensions");if(o)return o;return c(t),t}const r=await a();figma.ui.postMessage({type:"data-dimensions",dimensions:r})}if(figma.editorType==="figma")figma.showUI(__html__,{themeColors:!0,width:352,height:600,title:"URL Screenshot"}),n(),figma.ui.onmessage=(t)=>{if(t.type==="load-image"){const c=encodeURIComponent(t.urlToScreenshot);fetch(`http://localhost:3000/mobile?url=${c}`).then((a)=>{if(!a.ok)throw new Error("Network response was not ok");return a.arrayBuffer()}).then(async(a)=>{const r=new Uint8Array(a);figma.ui.postMessage({type:"image",uint8Array:r})}).catch((a)=>{console.error("Error fetching image:",a),figma.notify("Failed to load image. Please check the URL.")})}if(t.type==="resize-app")console.log("resize-app",t.options),figma.ui.resize(JSON.parse(t.options.width),JSON.parse(t.options.height))};
=======
async function l(t){try{return await figma.clientStorage.getAsync(t)}catch(c){console.log("unable to get from storage",c);return}}async function u(t,c){try{await figma.clientStorage.setAsync(t,c)}catch(a){console.log("unable to save to storage",a)}}async function f(t){try{await figma.clientStorage.deleteAsync(t)}catch(c){console.log("unable to remove from storage",c)}}async function n(){try{const t=await figma.clientStorage.keysAsync();for(let c of t){const a=await figma.clientStorage.getAsync(c);return`${c}: ${a}`}}catch(t){console.log("unable to get keys",t)}}var y={getValue:l,setValue:u,deleteValue:f,getEntries:n};async function e(){const t=[{deviceType:"mobile",deviceName:"Pixel 8 Pro",width:448,height:998,zoom:100},{deviceType:"mobile",deviceName:"Pixel 7A",width:412,height:915,zoom:100},{deviceType:"mobile",deviceName:"iPhone 15 Pro Max",width:430,height:932,zoom:100},{deviceType:"mobile",deviceName:"iPhone SE",width:320,height:568,zoom:100},{deviceType:"laptop",deviceName:"MacBook Air 13-inch M3",width:1440,height:900,zoom:100}];async function c(o){await y.setValue("dimensions",JSON.stringify(o))}async function a(){const o=await y.getValue("dimensions");if(o)return o;return c(t),t}const r=await a();figma.ui.postMessage({type:"data-dimensions",dimensions:r})}if(figma.editorType==="figma")figma.showUI(__html__,{themeColors:!0,width:320,height:568,title:"URL Screenshot"}),e(),figma.ui.onmessage=(t)=>{if(t.type==="load-image"){const c=encodeURIComponent(t.urlToScreenshot);fetch(`http://localhost:3000/?url=${c}`).then((a)=>{if(!a.ok)throw new Error("Network response was not ok");return a.arrayBuffer()}).then(async(a)=>{const r=new Uint8Array(a);figma.ui.postMessage({type:"image",uint8Array:r})}).catch((a)=>{console.error("Error fetching image:",a),figma.notify("Failed to load image. Please check the URL.")})}if(t.type==="resize-figma-plugin"){let{width:c,height:a}=t.options;c=c+32,a=a+32,figma.ui.resize(c,a)}};
>>>>>>> dev
